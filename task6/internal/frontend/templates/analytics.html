<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sales tracker - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ</title>
    <link rel="stylesheet" href="/static/css/style.css">
    <link rel="stylesheet" href="/static/css/forms.css">
    <link rel="stylesheet" href="/static/css/tables.css">
</head>

<body>
    <div class="container">
        <header class="header">
            <h1>üìä Sales Analytics</h1>
            <nav class="nav">
                <a href="/" class="nav-link">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ</a>
                <a href="/analytics" class="nav-link active">–ê–Ω–∞–ª–∏—Ç–∏–∫–∞</a>
            </nav>
        </header>

        <main class="main-content">
            <!-- –§–∏–ª—å—Ç—Ä—ã –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ -->
            <section class="filters-section">
                <h2>–§–∏–ª—å—Ç—Ä—ã –∞–Ω–∞–ª–∏—Ç–∏–∫–∏</h2>
                <form id="analytics-form" class="analytics-form">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="from-date">–° –¥–∞—Ç—ã *</label>
                            <input type="datetime-local" id="from-date" required>
                        </div>

                        <div class="form-group">
                            <label for="to-date">–ü–æ –¥–∞—Ç—É *</label>
                            <input type="datetime-local" id="to-date" required>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="analytics-type">–¢–∏–ø</label>
                            <select id="analytics-type">
                                <option value="">–í—Å–µ —Ç–∏–ø—ã</option>
                                <option value="income">–î–æ—Ö–æ–¥—ã</option>
                                <option value="expense">–†–∞—Å—Ö–æ–¥—ã</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="category-filter">–ö–∞—Ç–µ–≥–æ—Ä–∏—è</label>
                            <input type="text" id="category-filter" placeholder="–í—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏">
                        </div>

                        <div class="form-group">
                            <label for="group-by">–ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞</label>
                            <select id="group-by">
                                <option value="">–ë–µ–∑ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏</option>
                                <option value="day">–ü–æ –¥–Ω—è–º</option>
                                <option value="week">–ü–æ –Ω–µ–¥–µ–ª—è–º</option>
                                <option value="month">–ü–æ –º–µ—Å—è—Ü–∞–º</option>
                                <option value="category">–ü–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-actions">
                        <button type="submit" class="btn btn-primary">–ó–∞–≥—Ä—É–∑–∏—Ç—å –∞–Ω–∞–ª–∏—Ç–∏–∫—É</button>
                        <button type="button" class="btn btn-secondary" id="export-csv">–≠–∫—Å–ø–æ—Ä—Ç –≤ CSV</button>
                    </div>
                </form>
            </section>

            <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ -->
            <section class="results-section">
                <h2>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∞–Ω–∞–ª–∏—Ç–∏–∫–∏</h2>

                <div id="analytics-loading" class="loading">–ó–∞–≥—Ä—É–∑–∫–∞ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏...</div>

                <div id="analytics-results" style="display: none;">
                    <!-- –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
                    <div class="stats-grid" id="general-stats">
                        <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω–∞ –∑–¥–µ—Å—å -->
                    </div>

                    <!-- –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ -->
                    <div class="grouped-section" id="grouped-data" style="display: none;">
                        <h3>–î–µ—Ç–∞–ª—å–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞</h3>
                        <div class="table-container">
                            <table id="grouped-table" class="analytics-table">
                                <thead>
                                    <tr>
                                        <th>–ì—Ä—É–ø–ø–∞</th>
                                        <th>–°—É–º–º–∞</th>
                                        <th>–°—Ä–µ–¥–Ω–µ–µ</th>
                                        <th>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ</th>
                                        <th>–ú–µ–¥–∏–∞–Ω–∞</th>
                                        <th>90-–π –ø–µ—Ä—Ü–µ–Ω—Ç–∏–ª—å</th>
                                    </tr>
                                </thead>
                                <tbody id="grouped-body">
                                    <!-- –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç –∑–¥–µ—Å—å -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <div id="no-data" class="empty-state" style="display: none;">
                    –ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è. –ò–∑–º–µ–Ω–∏—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏.
                </div>
            </section>
        </main>
    </div>

    <script src="/static/js/analytics.js"></script>
</body>

</html>